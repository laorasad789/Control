<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	
	<title>{% block title %}Registrar{% endblock %}</title>
	{% block stylesheets %}
      <link rel="stylesheet" href="{{ asset('css/materialize.min.css') }}">
    {% endblock %}
    {% block javascripts %}
        <script type="application/javascript" src="{{ asset('js/jquery-3.1.0.js') }}"></script>
        <script type="application/javascript" src="{{ asset('js/materialize.min.js') }}"></script>
    {% endblock %}

</head>
<body>
<main>
   <center>
    
  <div class="row">
    <form class="col s4">
        <h2 align="center">Registrar</h2> 
      <div class="row">
        <div class="input-field col s12">
          <input placeholder="Nombre de usuario" id="nomusr" name="nomusr" type="text" class="validate">
          <!--  <label for="first_name">First Name</label>  -->
        </div>
      </div>
        <div class="row">
        <div class="input-field col s12">
          <input placeholder="Nombre" id="nombre" name="nombre" type="text" class="validate">
          <!--  <label for="first_name">First Name</label>  -->
        </div>
      </div>
        <div class="row">
        <div class="input-field col s12">
          <input placeholder="Email" id="email" name="email" type="email" class="validate">
          <!--  <label for="first_name">First Name</label>  -->
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input placeholder="Contraseña" id="password" name="password" type="password" class="validate">
        </div>
      </div>
         <div class="row">
        <div class="input-field col s12">
          <input placeholder="Teléfono" id="tel" name="tel" type="text" class="validate">
          <!--  <label for="first_name">First Name</label>  -->
        </div>
      </div>
        <div class="row">
        <div class="input-field col s12">
          <input placeholder="Facebook" id="facebook" name="facebook" type="text" class="validate">
          <!--  <label for="first_name">First Name</label>  -->
        </div>
      </div>
      
        <div class="row">
        <div class="input-field col s12">
          <input type="button" class="btn waves-effect waves-light" id="Registrar" name="Registrar"  value="Registrar"/>
        </div>
        </div>
      
        <div class="row">
        <div class="input-field col s12">
            
            <a href="{{ path('index') }}" class="btn waves-effect waves-light" id="Cancelar">Cancelar</a>
            
        </div>
      </div>
        
    </form>
  </div>
  </center>
</main>
	
</body>

</html>
<script>
        $("#Registrar").click(function () {
            alert($(".validate").serialize());
            if($("#nomusr").val() == "" ){
                alert("Nombre de usuario es requerido.");
            } else{
                if($("#password").val() == ""){
                    alert("Contraseña es requerida.");
                } 
                else{
                    
                    
                    $.ajax({
                    url:"{{ path('Registrar') }}",//línea asociada a Default Controller
                    type: 'POST',
                    data: $(".validate").serialize(),
                    
                    success:function(respuesta){
                        if($.trim(respuesta) == 1){
                            document.location.href = '{{ path('index') }}';
                        } else{
                            alert("Usuario no registrado.");
                        }
                    },
                });
                }
            }
        });
   
    </script>
